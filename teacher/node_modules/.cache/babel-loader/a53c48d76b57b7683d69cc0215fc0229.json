{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Katie\\\\School\\\\Western\\\\2020-2021\\\\Spring Quarter\\\\CSCI 426\\\\reading-aid\\\\teacher\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport Home from './Home.js';\nimport Welcome from './Welcome.js';\nimport firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n    this.state = {\n      isLoggedIn: false,\n      username: '',\n      password: ''\n    };\n  }\n\n  handleLogin(target) {\n    // get info from form\n    const username = target.username;\n    const password = target.password; // check that user w/ that username/password exists\n\n    const db = firebase.database();\n    db.ref('users').child(username).get().then(snapshot => {\n      if (snapshot.exists() && snapshot.val().password === password) {\n        // log the user in\n        this.setState({\n          isLoggedIn: true\n        });\n      } else {\n        alert(\"Invalid username or password, please try again.\");\n      }\n    });\n  }\n\n  handleLogout() {\n    this.setState({\n      isLoggedIn: false\n    });\n  }\n\n  render() {\n    return this.state.isLoggedIn ? /*#__PURE__*/_jsxDEV(Home, {\n      name: this.state.username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 36\n    }, this) : /*#__PURE__*/_jsxDEV(Welcome, {\n      onSubmit: this.handleLogin,\n      onLogout: this.handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 74\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Katie/School/Western/2020-2021/Spring Quarter/CSCI 426/reading-aid/teacher/src/App.js"],"names":["React","Home","Welcome","firebase","App","Component","constructor","props","handleLogin","bind","handleLogout","state","isLoggedIn","username","password","target","db","database","ref","child","get","then","snapshot","exists","val","setState","alert","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAO,mBAAP;;;AAEA,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAkC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,KAAL,GAAa;AACZC,MAAAA,UAAU,EAAE,KADA;AAEZC,MAAAA,QAAQ,EAAE,EAFE;AAGZC,MAAAA,QAAQ,EAAE;AAHE,KAAb;AAKA;;AAEDN,EAAAA,WAAW,CAACO,MAAD,EAAS;AACnB;AACA,UAAMF,QAAQ,GAAGE,MAAM,CAACF,QAAxB;AACA,UAAMC,QAAQ,GAAGC,MAAM,CAACD,QAAxB,CAHmB,CAKnB;;AACA,UAAME,EAAE,GAAGb,QAAQ,CAACc,QAAT,EAAX;AACAD,IAAAA,EAAE,CAACE,GAAH,CAAO,OAAP,EAAgBC,KAAhB,CAAsBN,QAAtB,EAAgCO,GAAhC,GAAsCC,IAAtC,CAA4CC,QAAD,IAAc;AACxD,UAAGA,QAAQ,CAACC,MAAT,MAAqBD,QAAQ,CAACE,GAAT,GAAeV,QAAf,KAA4BA,QAApD,EAA8D;AAC7D;AACA,aAAKW,QAAL,CAAc;AAACb,UAAAA,UAAU,EAAE;AAAb,SAAd;AACA,OAHD,MAGO;AACNc,QAAAA,KAAK,CAAC,iDAAD,CAAL;AACA;AACD,KAPD;AASA;;AAEDhB,EAAAA,YAAY,GAAG;AACd,SAAKe,QAAL,CAAc;AAACb,MAAAA,UAAU,EAAE;AAAb,KAAd;AACA;;AAEAe,EAAAA,MAAM,GAAG;AACP,WAAO,KAAKhB,KAAL,CAAWC,UAAX,gBAAwB,QAAC,IAAD;AAAM,MAAA,IAAI,EAAE,KAAKD,KAAL,CAAWE;AAAvB;AAAA;AAAA;AAAA;AAAA,YAAxB,gBAA8D,QAAC,OAAD;AAAS,MAAA,QAAQ,EAAE,KAAKL,WAAxB;AAAqC,MAAA,QAAQ,EAAE,KAAKE;AAApD;AAAA;AAAA;AAAA;AAAA,YAArE;AACD;;AApC+B;;AAuClC,eAAeN,GAAf","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport Home from './Home.js';\r\nimport Welcome from './Welcome.js';\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/database\";\r\n\r\nclass App extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleLogin = this.handleLogin.bind(this);\r\n\t\tthis.handleLogout = this.handleLogout.bind(this);\r\n\t\tthis.state = { \r\n\t\t\tisLoggedIn: false,\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t };\r\n\t}\r\n\r\n\thandleLogin(target) {\r\n\t\t// get info from form\r\n\t\tconst username = target.username;\r\n\t\tconst password = target.password;\r\n\t\t\r\n\t\t// check that user w/ that username/password exists\r\n\t\tconst db = firebase.database();\r\n\t\tdb.ref('users').child(username).get().then((snapshot) => {\r\n\t\t\tif(snapshot.exists() && snapshot.val().password === password) {\r\n\t\t\t\t// log the user in\r\n\t\t\t\tthis.setState({isLoggedIn: true});\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Invalid username or password, please try again.\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\thandleLogout() {\r\n\t\tthis.setState({isLoggedIn: false});\r\n\t}\r\n\r\n  render() {\r\n    return this.state.isLoggedIn ? <Home name={this.state.username} /> : <Welcome onSubmit={this.handleLogin} onLogout={this.handleLogout} />;\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}